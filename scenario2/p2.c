#include <stdio.h>
#include <stdlib.h>

typedef void (*fptr)();

void traveler_greet(char *name)
{
    printf("Bonjour %s!\n", name);
}

void cowboy_greet(char *name)
{
    printf("Howdy %s!\n", name);
}

void handle_guest(fptr *greet_behavior)
{
    char name[32];

    printf("Sorry, what was your name again?\n");
    gets(name);

    (*greet_behavior)(name);
}

int main(int argc, char **argv)
{
    int option;
    fptr behavior;

    printf("What do you prefer?\n");
    printf("1. wine\n");
    printf("2. whiskey\n");

    option = getchar() - '0';
    getchar(); // remove the newline

    switch (option)
    {
    case 1:
        behavior = traveler_greet;
        break;
    case 2:
        behavior = cowboy_greet;
        break;
    default:
        printf("Poor choice!\n");
        return 1;
    }

    handle_guest(&behavior);

    return 0;
}